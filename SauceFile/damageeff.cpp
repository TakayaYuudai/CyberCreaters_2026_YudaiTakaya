//================================================================================================================================================================
//
//プレイヤーHPゲージ処理[player_hp_gage.cpp]
//Author : Yuudai Takaya
//
//================================================================================================================================================================

//================================================================================================================================================================
//ライブラリリンク
//================================================================================================================================================================
#include "manager.h"
#include "damageeff.h"

//================================================================================================================================================================
//マクロ定義
//================================================================================================================================================================

//================================================================================================================================================================
//グローバル変数
//================================================================================================================================================================

//================================================================================================================================================================
//コンストラクタ
//================================================================================================================================================================
CDamage_Eff::CDamage_Eff() :CObject2D(2)
{

}

//================================================================================================================================================================
//デストラクタ
//================================================================================================================================================================
CDamage_Eff::~CDamage_Eff()
{

}

//================================================================================================================================================================
//初期設定
//================================================================================================================================================================
HRESULT CDamage_Eff::Init()
{
	CObject2D::Init();

	SetTexture("data\\TEXTURE\\damageeff.png");

	SetPos(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f);

	SetSize(SCREEN_WIDTH, SCREEN_HEIGHT);

	SetAnimation((float)7,2);

	m_nLife = 255;

	return S_OK;
}

//================================================================================================================================================================
//終了処理
//================================================================================================================================================================
void CDamage_Eff::Uninit()
{
	CObject2D::Uninit();
}

//================================================================================================================================================================
//更新処理（全オブジェクト）
//================================================================================================================================================================
void CDamage_Eff::Update()
{
	m_nLife-=5;

	SetCollar(255,255,255,m_nLife);

	if (m_nLife <= NULL)
	{
		Uninit();
	}

	CObject2D::Update();
}

//================================================================================================================================================================
//描画処理（全オブジェクト）
//================================================================================================================================================================
void CDamage_Eff::Draw()
{
	CObject2D::Draw();
}

//================================================================================================================================================================
//ブロック生成
//================================================================================================================================================================
CDamage_Eff* CDamage_Eff::Create()
{
	CDamage_Eff* pCDamage_Eff = new CDamage_Eff();
	pCDamage_Eff->Init();
	return pCDamage_Eff;
}